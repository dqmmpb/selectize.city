!function(e){"use strict";var n={data:{i:"000000",n:"中国",c:[{i:"330000",n:"浙江省",c:[{i:"330100",n:"杭州市",c:[{i:"330102",n:"上城区"},{i:"330103",n:"下城区"},{i:"330104",n:"江干区"},{i:"330105",n:"拱墅区"},{i:"330106",n:"西湖区"},{i:"330108",n:"滨江区"},{i:"330109",n:"萧山区"},{i:"330110",n:"余杭区"},{i:"330122",n:"桐庐县"},{i:"330127",n:"淳安县"},{i:"330182",n:"建德市"},{i:"330183",n:"富阳市"},{i:"330185",n:"临安市"}]},{i:"330200",n:"宁波市",c:[{i:"330203",n:"海曙区"},{i:"330204",n:"江东区"},{i:"330205",n:"江北区"},{i:"330206",n:"北仑区"},{i:"330211",n:"镇海区"},{i:"330212",n:"鄞州区"},{i:"330225",n:"象山县"},{i:"330226",n:"宁海县"},{i:"330281",n:"余姚市"},{i:"330282",n:"慈溪市"},{i:"330283",n:"奉化市"}]},{i:"330300",n:"温州市",c:[{i:"330302",n:"鹿城区"},{i:"330303",n:"龙湾区"},{i:"330304",n:"瓯海区"},{i:"330322",n:"洞头县"},{i:"330324",n:"永嘉县"},{i:"330326",n:"平阳县"},{i:"330327",n:"苍南县"},{i:"330328",n:"文成县"},{i:"330329",n:"泰顺县"},{i:"330381",n:"瑞安市"},{i:"330382",n:"乐清市"}]},{i:"330400",n:"嘉兴市",c:[{i:"330402",n:"南湖区"},{i:"330411",n:"秀洲区"},{i:"330421",n:"嘉善县"},{i:"330424",n:"海盐县"},{i:"330481",n:"海宁市"},{i:"330482",n:"平湖市"},{i:"330483",n:"桐乡市"}]},{i:"330500",n:"湖州市",c:[{i:"330502",n:"吴兴区"},{i:"330503",n:"南浔区"},{i:"330521",n:"德清县"},{i:"330522",n:"长兴县"},{i:"330523",n:"安吉县"}]},{i:"330600",n:"绍兴市",c:[{i:"330602",n:"越城区"},{i:"330603",n:"柯桥区"},{i:"330604",n:"上虞区"},{i:"330624",n:"新昌县"},{i:"330681",n:"诸暨市"},{i:"330683",n:"嵊州市"}]},{i:"330700",n:"金华市",c:[{i:"330702",n:"婺城区"},{i:"330703",n:"金东区"},{i:"330723",n:"武义县"},{i:"330726",n:"浦江县"},{i:"330727",n:"磐安县"},{i:"330781",n:"兰溪市"},{i:"330782",n:"义乌市"},{i:"330783",n:"东阳市"},{i:"330784",n:"永康市"}]},{i:"330800",n:"衢州市",c:[{i:"330802",n:"柯城区"},{i:"330803",n:"衢江区"},{i:"330822",n:"常山县"},{i:"330824",n:"开化县"},{i:"330825",n:"龙游县"},{i:"330881",n:"江山市"}]},{i:"330900",n:"舟山市",c:[{i:"330902",n:"定海区"},{i:"330903",n:"普陀区"},{i:"330921",n:"岱山县"},{i:"330922",n:"嵊泗县"}]},{i:"331000",n:"台州市",c:[{i:"331002",n:"椒江区"},{i:"331003",n:"黄岩区"},{i:"331004",n:"路桥区"},{i:"331021",n:"玉环县"},{i:"331022",n:"三门县"},{i:"331023",n:"天台县"},{i:"331024",n:"仙居县"},{i:"331081",n:"温岭市"},{i:"331082",n:"临海市"}]},{i:"331100",n:"丽水市",c:[{i:"331102",n:"莲都区"},{i:"331121",n:"青田县"},{i:"331122",n:"缙云县"},{i:"331123",n:"遂昌县"},{i:"331124",n:"松阳县"},{i:"331125",n:"云和县"},{i:"331126",n:"庆元县"},{i:"331127",n:"景宁畲族自治县"},{i:"331181",n:"龙泉市"}]}]}]},type:"json",fieldMap:{code:"i",title:"n",py:"p",pyf:"f"},valueField:"code",searchField:["py","pyf","title"],labelField:"title",placeholder:["省","市","区"],items:[],selectOnTab:!0,onChange:null},i=new Pinyin(!0,"default");e.fn.selectizeCity=function(t){function l(e){for(var n={},c=0;c<e.length;c++)e[c].p=i.getCamelChars(e[c].n),e[c].f=i.getFullChars(e[c].n),n[e[c][t.fieldMap[t.valueField]]]={v:e[c],m:e[c].c?l(e[c].c):{}};return n}function c(n,i,l){delete n.selected,n.clearOptions(),e.each(l,function(e,i){n.addOption({code:i.v[t.fieldMap.code],title:i.v[t.fieldMap.title],py:i.v[t.fieldMap.py],pyf:i.v[t.fieldMap.pyf],id:e})}),n.$control.data("index",i),n.$control.data("values",l)}function a(e){for(var n=0;n<e.$selectize.length;n++)e.$selectize[n].setValue(t.items[n])}function s(n,i,l){function s(e){var l=this.$control.data("index"),a=this.$control.data("values");e?(this.selected=a[e],l<i.length-1&&c(n.$selectize[l+1],l+1,this.selected.m),t.onChange&&"function"==typeof t.onChange&&t.onChange.call(this,n)):(delete this.selected,l<i.length-1&&c(n.$selectize[l+1],l+1,[]),t.onChange&&"function"==typeof t.onChange&&t.onChange.call(this,n))}for(var d=0;d<i.length;d++)n.$selectize[d]=e(i[d]).selectize({valueField:t.valueField,searchField:t.searchField,labelField:t.labelField,placeholder:t.placeholder?t.placeholder[d]:void 0,selectOnTab:t.selectOnTab,onChange:s})[0].selectize;return c(n.$selectize[0],0,l),a(n),n}return this.each(function(){t=e.extend({},n,t);var i=t.data,c=l([i]),a=e(this)[0],d=e(a).find("select");if(d&&0===d.length)e('<select class="prov" name="province"></select>').appendTo(a),e('<select class="city" name="city"></select>').appendTo(a),e('<select class="dist" name="district"></select>').appendTo(a),d=e(a).find("select");else if(d&&3!==d.length)throw new Error("You need create 3 select element!");a.$selectize=[],a.selectedObject=function(){return this.$selectize?this.$selectize.map(function(e){return e.selected&&e.selected.v}).filter(function(e){return e?e:void 0}):null},a.selectedValue=function(){return this.$selectize?this.$selectize.map(function(e){return e.selected&&e.selected.v[t.fieldMap[t.valueField]]}).filter(function(e){return e?e:void 0}):null},a.selectedLabel=function(){return this.$selectize?this.$selectize.map(function(e){return e.selected&&e.selected.v[t.fieldMap[t.labelField]]}).filter(function(e){return e?e:void 0}):null};for(var o in c)s(a,d,c[o].m)})}}(jQuery);